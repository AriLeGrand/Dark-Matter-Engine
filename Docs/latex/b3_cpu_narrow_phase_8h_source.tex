\doxysection{b3\+Cpu\+Narrow\+Phase.\+h}
\hypertarget{b3_cpu_narrow_phase_8h_source}{}\label{b3_cpu_narrow_phase_8h_source}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Collision/NarrowPhaseCollision/b3CpuNarrowPhase.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Collision/NarrowPhaseCollision/b3CpuNarrowPhase.h}}
\mbox{\hyperlink{b3_cpu_narrow_phase_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ B3\_CPU\_NARROWPHASE\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ B3\_CPU\_NARROWPHASE\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_collidable_8h}{Bullet3Collision/NarrowPhaseCollision/shared/b3Collidable.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_aligned_object_array_8h}{Bullet3Common/b3AlignedObjectArray.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_vector3_8h}{Bullet3Common/b3Vector3.h}}"{}}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_aabb_8h}{Bullet3Collision/BroadPhaseCollision/shared/b3Aabb.h}}"{}}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_int4_8h}{Bullet3Common/shared/b3Int4.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_rigid_body_data_8h}{Bullet3Collision/NarrowPhaseCollision/shared/b3RigidBodyData.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_contact4_data_8h}{Bullet3Collision/NarrowPhaseCollision/shared/b3Contact4Data.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classb3_cpu_narrow_phase_a4ca1864fb16a48a599b25c8bd989c3bf}{b3CpuNarrowPhase}}}
\DoxyCodeLine{00013\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_cpu_narrow_phase_internal_data}{b3CpuNarrowPhaseInternalData}}*\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a37fe3f4835a9b1b66e45bb61f1272648}{m\_data}};}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a5ee36a85ece2ee8b7334b62b1107c189}{m\_acceleratedCompanionShapeIndex}};}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a9701b649633e2b457301cb657cd616a8}{m\_planeBodyIndex}};}
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ab93adb40b8d2fc7889585378e6e52f1d}{m\_static0Index}};}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a7a2b08de490b0ca5481244a2d4e0a148}{registerConvexHullShapeInternal}}(\textcolor{keyword}{class}\ \mbox{\hyperlink{b3_convex_utility_8h_a553f298e5310937193a4666977a37832}{b3ConvexUtility}}*\ convexPtr,\ \mbox{\hyperlink{structb3_collidable}{b3Collidable}}\&\ col);}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_aefdafd229c1a72a34308316012f58074}{registerConcaveMeshShape}}(\mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3Vector3>}}*\ vertices,\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<int>}}*\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aedcdb207abe418517ae3def4e91c9d12}{indices}},\ \mbox{\hyperlink{structb3_collidable}{b3Collidable}}\&\ col,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ scaling);}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{classb3_cpu_narrow_phase_a4ca1864fb16a48a599b25c8bd989c3bf}{b3CpuNarrowPhase}}(\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ \mbox{\hyperlink{structb3_config}{b3Config}}\&\ config);}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ac287e9744adf0658b940f89786bac8ee}{\string~b3CpuNarrowPhase}}(\textcolor{keywordtype}{void});}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a7f42d239227ae33574385519e8b1fd42}{registerSphereShape}}(\textcolor{keywordtype}{float}\ radius);}
\DoxyCodeLine{00029\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ad4a23d8011c68082055983b27c8606fc}{registerPlaneShape}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ planeNormal,\ \textcolor{keywordtype}{float}\ planeConstant);}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a7b1bbf517b947cf8277a045901ed5b33}{registerCompoundShape}}(\mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3GpuChildShape>}}*\ childShapes);}
\DoxyCodeLine{00032\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a2227895a3aace2d54c3f0b8d4c85e016}{registerFace}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ faceNormal,\ \textcolor{keywordtype}{float}\ faceConstant);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a142979dc6b1fe119bff3e16b767c5b5a}{registerConcaveMesh}}(\mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3Vector3>}}*\ vertices,\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<int>}}*\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_aedcdb207abe418517ae3def4e91c9d12}{indices}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ scaling);}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{comment}{//do\ they\ need\ to\ be\ merged?}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a44378d1a6d96ec311adde239429f4753}{registerConvexHullShape}}(\mbox{\hyperlink{b3_convex_utility_8h_a553f298e5310937193a4666977a37832}{b3ConvexUtility}}*\ utilPtr);}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a44378d1a6d96ec311adde239429f4753}{registerConvexHullShape}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ vertices,\ \textcolor{keywordtype}{int}\ strideInBytes,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{b3_voronoi_simplex_solver_8h_aee9486536d8206675957a9ad71092b6e}{numVertices}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ scaling);}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//int\ registerRigidBody(int\ collidableIndex,\ float\ mass,\ const\ float*\ position,\ const\ float*\ orientation,\ const\ float*\ aabbMin,\ const\ float*\ aabbMax,bool\ writeToGpu);}}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a5af1162b12e8724a12477638b6ed8288}{setObjectTransform}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ position,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}*\ orientation,\ \textcolor{keywordtype}{int}\ bodyIndex);}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_afc5799d9bb8ebdc11b2dfd8037d64fde}{writeAllBodiesToGpu}}();}
\DoxyCodeLine{00045\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_acf0df269299be8e863b38f666ea4317b}{reset}}();}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a8a790bea34bc45828ebe84f907e457a4}{readbackAllBodiesToCpu}}();}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a9395aee04a4f52f4b83acc0a9db5113f}{getObjectTransformFromCpu}}(\textcolor{keywordtype}{float}*\ position,\ \textcolor{keywordtype}{float}*\ orientation,\ \textcolor{keywordtype}{int}\ bodyIndex)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_aaeddc585ce4003d1974eb30fe96ade55}{setObjectTransformCpu}}(\textcolor{keywordtype}{float}*\ position,\ \textcolor{keywordtype}{float}*\ orientation,\ \textcolor{keywordtype}{int}\ bodyIndex);}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ac27675833de21424fd4f07b92e91e2c0}{setObjectVelocityCpu}}(\textcolor{keywordtype}{float}*\ linVel,\ \textcolor{keywordtype}{float}*\ angVel,\ \textcolor{keywordtype}{int}\ bodyIndex);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{comment}{//virtual\ void\ computeContacts(cl\_mem\ broadphasePairs,\ int\ numBroadphasePairs,\ cl\_mem\ aabbsWorldSpace,\ int\ numObjects);}}
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ac9048515ff17134223fc0215e96885ee}{computeContacts}}(\mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3Int4>}}\&\ pairs,\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3Aabb>}}\&\ aabbsWorldSpace,\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3RigidBodyData>}}\&\ bodies);}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_rigid_body_data}{b3RigidBodyData}}*\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a02e7a0fcdebad34e3413265aaa297dc1}{getBodiesCpu}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{//struct\ b3RigidBodyData*\ getBodiesCpu();}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_afe8d5b387b03dce6737286aff9c392ad}{getNumBodiesGpu}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a46032a2bd94fe5377efacf0e20411c4f}{getNumBodyInertiasGpu}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_collidable}{b3Collidable}}*\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ad94289fab4b634450b3ec8ed84fd14da}{getCollidablesCpu}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a05a3b70ff8c032c6ae050faafeb69daa}{getNumCollidablesGpu}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{comment}{/*const\ struct\ b3Contact4*\ getContactsCPU()\ const;}}
\DoxyCodeLine{00066\ \textcolor{comment}{}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ \ \ }}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ \ int\ getNumContactsGpu()\ const;}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3Contact4Data>}}\&\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ad1bf37f9348fff20c5d6d414d2a15de8}{getContacts}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ab16cee7c8615983e5ef29f8129a7f51e}{getNumRigidBodies}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a2952361bf08085e9959c3b1e9f74623c}{allocateCollidable}}();}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a12bb47a7ec76fe2b478ca0a9f4f8d169}{getStatic0Index}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00078\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_ab93adb40b8d2fc7889585378e6e52f1d}{m\_static0Index}};}
\DoxyCodeLine{00080\ \ \ \ \ \}}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{structb3_collidable}{b3Collidable}}\&\ \mbox{\hyperlink{classb3_cpu_narrow_phase_aff0ae648f920d7ed1a11cc7740f2c975}{getCollidableCpu}}(\textcolor{keywordtype}{int}\ collidableIndex);}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structb3_collidable}{b3Collidable}}\&\ \mbox{\hyperlink{classb3_cpu_narrow_phase_aff0ae648f920d7ed1a11cc7740f2c975}{getCollidableCpu}}(\textcolor{keywordtype}{int}\ collidableIndex)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structb3_cpu_narrow_phase_internal_data}{b3CpuNarrowPhaseInternalData}}*\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a8f48f8469e03878992d88c73bd8a8a25}{getInternalData}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00085\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classb3_cpu_narrow_phase_a37fe3f4835a9b1b66e45bb61f1272648}{m\_data}};}
\DoxyCodeLine{00087\ \ \ \ \ \}}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structb3_aabb}{b3Aabb}}\&\ \mbox{\hyperlink{classb3_cpu_narrow_phase_af21b16f0f63d6aec49be6215fbd25d5f}{getLocalSpaceAabb}}(\textcolor{keywordtype}{int}\ collidableIndex)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00090\ \};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_CPU\_NARROWPHASE\_H}}

\end{DoxyCode}
