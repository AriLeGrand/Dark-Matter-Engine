\doxysection{bt\+Multi\+Body\+Link.\+h}
\hypertarget{bt_multi_body_link_8h_source}{}\label{bt_multi_body_link_8h_source}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/BulletDynamics/Featherstone/btMultiBodyLink.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/BulletDynamics/Featherstone/btMultiBodyLink.h}}
\mbox{\hyperlink{bt_multi_body_link_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Bullet\ Continuous\ Collision\ Detection\ and\ Physics\ Library}}
\DoxyCodeLine{00003\ \textcolor{comment}{Copyright\ (c)\ 2013\ Erwin\ Coumans\ \ http://bulletphysics.org}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{This\ software\ is\ provided\ 'as-\/is',\ without\ any\ express\ or\ implied\ warranty.}}
\DoxyCodeLine{00006\ \textcolor{comment}{In\ no\ event\ will\ the\ authors\ be\ held\ liable\ for\ any\ damages\ arising\ from\ the\ use\ of\ this\ software.}}
\DoxyCodeLine{00007\ \textcolor{comment}{Permission\ is\ granted\ to\ anyone\ to\ use\ this\ software\ for\ any\ purpose,\ }}
\DoxyCodeLine{00008\ \textcolor{comment}{including\ commercial\ applications,\ and\ to\ alter\ it\ and\ redistribute\ it\ freely,\ }}
\DoxyCodeLine{00009\ \textcolor{comment}{subject\ to\ the\ following\ restrictions:}}
\DoxyCodeLine{00010\ \textcolor{comment}{}}
\DoxyCodeLine{00011\ \textcolor{comment}{1.\ The\ origin\ of\ this\ software\ must\ not\ be\ misrepresented;\ you\ must\ not\ claim\ that\ you\ wrote\ the\ original\ software.\ If\ you\ use\ this\ software\ in\ a\ product,\ an\ acknowledgment\ in\ the\ product\ documentation\ would\ be\ appreciated\ but\ is\ not\ required.}}
\DoxyCodeLine{00012\ \textcolor{comment}{2.\ Altered\ source\ versions\ must\ be\ plainly\ marked\ as\ such,\ and\ must\ not\ be\ misrepresented\ as\ being\ the\ original\ software.}}
\DoxyCodeLine{00013\ \textcolor{comment}{3.\ This\ notice\ may\ not\ be\ removed\ or\ altered\ from\ any\ source\ distribution.}}
\DoxyCodeLine{00014\ \textcolor{comment}{*/}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#ifndef\ BT\_MULTIBODY\_LINK\_H}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#define\ BT\_MULTIBODY\_LINK\_H}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bt_quaternion_8h}{LinearMath/btQuaternion.h}}"{}}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bt_vector3_8h}{LinearMath/btVector3.h}}"{}}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bt_collision_object_8h}{BulletCollision/CollisionDispatch/btCollisionObject.h}}"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{bt_multi_body_link_8h_a7375f7fe9838284457b14a2936ff4915}{btMultiBodyLinkFlags}}}
\DoxyCodeLine{00024\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \mbox{\hyperlink{bt_multi_body_link_8h_a7375f7fe9838284457b14a2936ff4915a83ce371c0e3b61257ea71fa34108d7e9}{BT\_MULTIBODYLINKFLAGS\_DISABLE\_PARENT\_COLLISION}}\ =\ 1,}
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{bt_multi_body_link_8h_a7375f7fe9838284457b14a2936ff4915a722518ea507b9e83904e88068f7e4350}{BT\_MULTIBODYLINKFLAGS\_DISABLE\_ALL\_PARENT\_COLLISION}}\ =\ 2,}
\DoxyCodeLine{00027\ \};}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{comment}{//both\ defines\ are\ now\ permanently\ enabled}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ BT\_MULTIBODYLINK\_INCLUDE\_PLANAR\_JOINTS}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#define\ TEST\_SPATIAL\_ALGEBRA\_LAYER}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{comment}{//}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ Various\ spatial\ helper\ functions}}
\DoxyCodeLine{00035\ \textcolor{comment}{//}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{//namespace\ \{}}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{bt_spatial_algebra_8h}{LinearMath/btSpatialAlgebra.h}}"{}}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\}}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{comment}{//}}
\DoxyCodeLine{00044\ \textcolor{comment}{//\ Link\ struct}}
\DoxyCodeLine{00045\ \textcolor{comment}{//}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbt_multibody_link_ac8a6f7786a73acac4e3350e823bca329}{btMultibodyLink}}}
\DoxyCodeLine{00048\ \{}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a7f9205c013f7aa0b98caa593c633f013}{BT\_DECLARE\_ALIGNED\_ALLOCATOR}}();}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a7f43826ab4984ab182e8afd9be8c8bb4}{m\_mass}};\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ mass\ of\ link}}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_a547156f1cc005f56762f2d80c20b672b}{m\_inertiaLocal}};\ \ \textcolor{comment}{//\ inertia\ of\ link\ (local\ frame;\ diagonal)}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structbt_multibody_link_ad1d1a3ebd8ffb1c90ff286b3500caed2}{m\_parent}};\ \ \textcolor{comment}{//\ index\ of\ the\ parent\ link\ (assumed\ to\ be\ <\ index\ of\ this\ link),\ or\ -\/1\ if\ parent\ is\ the\ base\ link.}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};\ \ \textcolor{comment}{//\ rotates\ vectors\ in\ parent-\/frame\ to\ vectors\ in\ local-\/frame\ (when\ q=0).\ constant.}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}};\ \ \textcolor{comment}{//\ vector\ from\ the\ inboard\ joint\ pos\ to\ this\ link's\ COM.\ (local\ frame.)\ constant.}}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//this\ is\ set\ to\ zero\ for\ planar\ joint\ (see\ also\ m\_eVector\ comment)}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \ \ \textcolor{comment}{//\ m\_eVector\ is\ constant,\ but\ depends\ on\ the\ joint\ type:}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ revolute,\ fixed,\ prismatic,\ spherical:\ vector\ from\ parent's\ COM\ to\ the\ pivot\ point,\ in\ PARENT's\ frame.}}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{comment}{//\ planar:\ vector\ from\ COM\ of\ parent\ to\ COM\ of\ this\ link,\ WHEN\ Q\ =\ 0.\ (local\ frame.)}}
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{comment}{//\ todo:\ fix\ the\ planar\ so\ it\ is\ consistent\ with\ the\ other\ joints}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}};}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{structbt_spatial_motion_vector}{btSpatialMotionVector}}\ \mbox{\hyperlink{structbt_multibody_link_a77bda126fde082ec635b206ec51e97aa}{m\_absFrameTotVelocity}},\ \mbox{\hyperlink{structbt_multibody_link_ac305b45edf5d3f4dd172c621d1d5ffd6}{m\_absFrameLocVelocity}};}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2}{eFeatherstoneJointType}}}
\DoxyCodeLine{00071\ \ \ \ \ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2ac9720bc04835a9d5f7aa856d191c0ef0}{eRevolute}}\ =\ 0,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a83234a32884fcd5f0d8ac3ae4ba98eaa}{ePrismatic}}\ =\ 1,}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2aecf17b9167f2a1d051a4172a1f4c3def}{eSpherical}}\ =\ 2,}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a6eb72eda1ca94f8659cf7e85e0cef56e}{ePlanar}}\ =\ 3,}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2af55afed0a84190cb98358efbd35a8631}{eFixed}}\ =\ 4,}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a363513b27b6acd5c3aaebc5250d161dc}{eInvalid}}}
\DoxyCodeLine{00078\ \ \ \ \ \};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{comment}{//\ "{}axis"{}\ =\ spatial\ joint\ axis\ (Mirtich\ Defn\ 9\ p104).\ (expressed\ in\ local\ frame.)\ constant.}}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{comment}{//\ for\ prismatic:\ m\_axesTop[0]\ =\ zero;}}
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesBottom[0]\ =\ unit\ vector\ along\ the\ joint\ axis.}}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{comment}{//\ for\ revolute:\ m\_axesTop[0]\ =\ unit\ vector\ along\ the\ rotation\ axis\ (u);}}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesBottom[0]\ =\ u\ cross\ m\_dVector\ (i.e.\ COM\ linear\ motion\ due\ to\ the\ rotation\ at\ the\ joint)}}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{comment}{//\ for\ spherical:\ m\_axesTop[0][1][2]\ (u1,u2,u3)\ form\ a\ 3x3\ identity\ matrix\ (3\ rotation\ axes)}}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesBottom[0][1][2]\ cross\ u1,u2,u3\ (i.e.\ COM\ linear\ motion\ due\ to\ the\ rotation\ at\ the\ joint)}}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{comment}{//\ for\ planar:\ m\_axesTop[0]\ =\ unit\ vector\ along\ the\ rotation\ axis\ (u);\ defines\ the\ plane\ of\ motion}}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesTop[1][2]\ =\ zero}}
\DoxyCodeLine{00091\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesBottom[0]\ =\ zero}}
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ \ \ \ \ m\_axesBottom[1][2]\ =\ unit\ vectors\ along\ the\ translational\ axes\ on\ that\ plane}}
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{structbt_spatial_motion_vector}{btSpatialMotionVector}}\ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[6];}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_a4cfd579a1c0cf0288da4ecbd50b527bb}{setAxisTop}}(\textcolor{keywordtype}{int}\ dof,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \&axis)\ \{\ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_topVec\ =\ axis;\ \}}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_a1e8d5dc9c984b87d629436d0efdd6388}{setAxisBottom}}(\textcolor{keywordtype}{int}\ dof,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \&axis)}
\DoxyCodeLine{00096\ \ \ \ \ \{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_bottomVec\ =\ axis;}
\DoxyCodeLine{00098\ \ \ \ \ \}}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_af360335482a740aa90502d90d46c3179}{setAxisTop}}(\textcolor{keywordtype}{int}\ dof,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{glad_8h_a92d0386e5c19fb81ea88c9f99644ab1d}{x}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a66ddd433d2cacfe27f5906b7e86faeed}{y}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{glad_8h_acb78bf1972d3eaf07da34ff2e0a2f133}{z}})}
\DoxyCodeLine{00100\ \ \ \ \ \{}
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_topVec.setValue(\mbox{\hyperlink{glad_8h_a92d0386e5c19fb81ea88c9f99644ab1d}{x}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a66ddd433d2cacfe27f5906b7e86faeed}{y}},\ \mbox{\hyperlink{glad_8h_acb78bf1972d3eaf07da34ff2e0a2f133}{z}});}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_a8602a43334901d549a6152254320ede8}{setAxisBottom}}(\textcolor{keywordtype}{int}\ dof,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{glad_8h_a92d0386e5c19fb81ea88c9f99644ab1d}{x}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a66ddd433d2cacfe27f5906b7e86faeed}{y}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \&\mbox{\hyperlink{glad_8h_acb78bf1972d3eaf07da34ff2e0a2f133}{z}})}
\DoxyCodeLine{00104\ \ \ \ \ \{}
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_bottomVec.setValue(\mbox{\hyperlink{glad_8h_a92d0386e5c19fb81ea88c9f99644ab1d}{x}},\ \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_a66ddd433d2cacfe27f5906b7e86faeed}{y}},\ \mbox{\hyperlink{glad_8h_acb78bf1972d3eaf07da34ff2e0a2f133}{z}});}
\DoxyCodeLine{00106\ \ \ \ \ \}}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \&\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(\textcolor{keywordtype}{int}\ dof)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_topVec;\ \}}
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \&\mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(\textcolor{keywordtype}{int}\ dof)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structbt_multibody_link_aece24f26fadecee8362a715a98c928ca}{m\_axes}}[dof].m\_bottomVec;\ \}}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structbt_multibody_link_a9db844b9d2674db4382e6449e44b308d}{m\_dofOffset}},\ \mbox{\hyperlink{structbt_multibody_link_adbac88bc454d6cb062e832739b1cb16d}{m\_cfgOffset}};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\ \mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}};\ \ \textcolor{comment}{//\ rotates\ vectors\ in\ parent\ frame\ to\ vectors\ in\ local\ frame}}
\DoxyCodeLine{00113\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_acc1069ce405c8441a499abde38254846}{m\_cachedRVector}};\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ vector\ from\ COM\ of\ parent\ to\ COM\ of\ this\ link,\ in\ local\ frame.}}
\DoxyCodeLine{00114\ \ \ \ \ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{comment}{//\ predicted\ verstion}}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\ \mbox{\hyperlink{structbt_multibody_link_a50cc62d62d9e6fb859880023d1dd47c4}{m\_cachedRotParentToThis\_interpolate}};\ \ \textcolor{comment}{//\ rotates\ vectors\ in\ parent\ frame\ to\ vectors\ in\ local\ frame}}
\DoxyCodeLine{00117\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_aca53503b1a1ffbc2f99a7ac3a9568824}{m\_cachedRVector\_interpolate}};\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ vector\ from\ COM\ of\ parent\ to\ COM\ of\ this\ link,\ in\ local\ frame.}}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00119\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_ab5221a9d146ad03ee3bed7c15e9ab8e3}{m\_appliedForce}};\ \ \ \textcolor{comment}{//\ In\ WORLD\ frame}}
\DoxyCodeLine{00120\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_a5444336b091c469287d3b89803be13a2}{m\_appliedTorque}};\ \ \textcolor{comment}{//\ In\ WORLD\ frame}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_a1e35c6358da520934f28358c567233e0}{m\_appliedConstraintForce}};\ \ \ \textcolor{comment}{//\ In\ WORLD\ frame}}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\ \mbox{\hyperlink{structbt_multibody_link_aa0be949a7b5e351ce0064c8f5be71f29}{m\_appliedConstraintTorque}};\ \ \textcolor{comment}{//\ In\ WORLD\ frame}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[7];}
\DoxyCodeLine{00126\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a15666733f57a061e52b3ccab70277d49}{m\_jointPos\_interpolate}}[7];}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{comment}{//m\_jointTorque\ is\ the\ joint\ torque\ applied\ by\ the\ user\ using\ 'addJointTorque'.}}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//It\ gets\ set\ to\ zero\ after\ each\ internal\ stepSimulation\ call}}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[6];}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classbt_multi_body_link_collider}{btMultiBodyLinkCollider}}\ *\mbox{\hyperlink{structbt_multibody_link_a1a1490ac2130a237ac60872b7d8f8103}{m\_collider}};}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structbt_multibody_link_a8ba5d13f52212ec334dbb5c4d4484cff}{m\_flags}};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structbt_multibody_link_a66cc22dadaac3fcab32402a9e7616dd8}{m\_dofCount}},\ \mbox{\hyperlink{structbt_multibody_link_adf2659517b7f765d72beaa7939fc0d91}{m\_posVarCount}};\ \ \textcolor{comment}{//redundant\ but\ handy}}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2}{eFeatherstoneJointType}}\ \mbox{\hyperlink{structbt_multibody_link_a66b7555ad9780d28f92fc1fb2e685485}{m\_jointType}};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structbt_multi_body_joint_feedback}{btMultiBodyJointFeedback}}\ *\mbox{\hyperlink{structbt_multibody_link_ab4eaed9dcdaab8aecf02ecd6d695a0e1}{m\_jointFeedback}};}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{bt_transform_8h_addf03f129c64d2963d86b8f57ec01f82}{btTransform}}\ \mbox{\hyperlink{structbt_multibody_link_a83c2e8c2911543ac99086d9f4131ffba}{m\_cachedWorldTransform}};\ \ \textcolor{comment}{//this\ cache\ is\ updated\ when\ calling\ btMultiBody::forwardKinematics}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structbt_multibody_link_af240cdc81628fff6daa39c5544e181eb}{m\_linkName}};\ \ \ \textcolor{comment}{//m\_linkName\ memory\ needs\ to\ be\ managed\ by\ the\ developer/user!}}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ *\mbox{\hyperlink{structbt_multibody_link_ae627795bf8775d2b9c2469692757e9c0}{m\_jointName}};\ \ \textcolor{comment}{//m\_jointName\ memory\ needs\ to\ be\ managed\ by\ the\ developer/user!}}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}\ *\mbox{\hyperlink{structbt_multibody_link_adc93a07c3e775f752a956848065f72ff}{m\_userPtr}};\ \ \ \ \textcolor{comment}{//m\_userPtr\ ptr\ needs\ to\ be\ managed\ by\ the\ developer/user!}}
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_acfdf7e053164d82699b8323b89acd806}{m\_jointDamping}};\ \ \ \ \ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.\ User\ can\ apply\ manual\ damping.}}
\DoxyCodeLine{00148\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a05d7f4ab2a1265610e63b6be9f511113}{m\_jointFriction}};\ \ \ \ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.\ User\ can\ apply\ manual\ friction\ using\ a\ velocity\ motor.}}
\DoxyCodeLine{00149\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a681f6aa05868e7c06341f226461d1ea9}{m\_jointLowerLimit}};\ \ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.}}
\DoxyCodeLine{00150\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a577511770fd2603ceac36ab370210589}{m\_jointUpperLimit}};\ \ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.}}
\DoxyCodeLine{00151\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_a848506d089d2c293194a33cfe87dc717}{m\_jointMaxForce}};\ \ \ \ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.}}
\DoxyCodeLine{00152\ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ \mbox{\hyperlink{structbt_multibody_link_aa6307238fcd23ff4815dfb78a69ed77d}{m\_jointMaxVelocity}};\ \ \textcolor{comment}{//todo:\ implement\ this\ internally.\ It\ is\ unused\ for\ now,\ it\ is\ set\ by\ a\ URDF\ loader.}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ ctor:\ set\ some\ sensible\ defaults}}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ac8a6f7786a73acac4e3350e823bca329}{btMultibodyLink}}()}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structbt_multibody_link_a7f43826ab4984ab182e8afd9be8c8bb4}{m\_mass}}(1),}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ad1d1a3ebd8ffb1c90ff286b3500caed2}{m\_parent}}(-\/1),}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}}(0,\ 0,\ 0,\ 1),}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}}(0,\ 0,\ 0,\ 1),}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a50cc62d62d9e6fb859880023d1dd47c4}{m\_cachedRotParentToThis\_interpolate}}(0,\ 0,\ 0,\ 1),}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a1a1490ac2130a237ac60872b7d8f8103}{m\_collider}}(0),}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a8ba5d13f52212ec334dbb5c4d4484cff}{m\_flags}}(0),}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a66cc22dadaac3fcab32402a9e7616dd8}{m\_dofCount}}(0),}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_adf2659517b7f765d72beaa7939fc0d91}{m\_posVarCount}}(0),}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a66b7555ad9780d28f92fc1fb2e685485}{m\_jointType}}(\mbox{\hyperlink{structbt_multibody_link_ac8a6f7786a73acac4e3350e823bca329}{btMultibodyLink}}::\mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a363513b27b6acd5c3aaebc5250d161dc}{eInvalid}}),}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ab4eaed9dcdaab8aecf02ecd6d695a0e1}{m\_jointFeedback}}(0),}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_af240cdc81628fff6daa39c5544e181eb}{m\_linkName}}(0),}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ae627795bf8775d2b9c2469692757e9c0}{m\_jointName}}(0),}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_adc93a07c3e775f752a956848065f72ff}{m\_userPtr}}(0),}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_acfdf7e053164d82699b8323b89acd806}{m\_jointDamping}}(0),}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a05d7f4ab2a1265610e63b6be9f511113}{m\_jointFriction}}(0),}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a681f6aa05868e7c06341f226461d1ea9}{m\_jointLowerLimit}}(0),}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a577511770fd2603ceac36ab370210589}{m\_jointUpperLimit}}(0),}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a848506d089d2c293194a33cfe87dc717}{m\_jointMaxForce}}(0),}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aa6307238fcd23ff4815dfb78a69ed77d}{m\_jointMaxVelocity}}(0)}
\DoxyCodeLine{00176\ \ \ \ \ \{}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a547156f1cc005f56762f2d80c20b672b}{m\_inertiaLocal}}.setValue(1,\ 1,\ 1);}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a4cfd579a1c0cf0288da4ecbd50b527bb}{setAxisTop}}(0,\ 0.,\ 0.,\ 0.);}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a1e8d5dc9c984b87d629436d0efdd6388}{setAxisBottom}}(0,\ 1.,\ 0.,\ 0.);}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_acc1069ce405c8441a499abde38254846}{m\_cachedRVector}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aca53503b1a1ffbc2f99a7ac3a9568824}{m\_cachedRVector\_interpolate}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_ab5221a9d146ad03ee3bed7c15e9ab8e3}{m\_appliedForce}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a5444336b091c469287d3b89803be13a2}{m\_appliedTorque}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a1e35c6358da520934f28358c567233e0}{m\_appliedConstraintForce}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aa0be949a7b5e351ce0064c8f5be71f29}{m\_appliedConstraintTorque}}.setValue(0,\ 0,\ 0);}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[0]\ =\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[1]\ =\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[2]\ =\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[4]\ =\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[5]\ =\ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[6]\ =\ 0.f;}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[3]\ =\ 1.f;\ \ \textcolor{comment}{//"{}quat.w"{}}}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[0]\ =\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[1]\ =\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[2]\ =\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[3]\ =\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[4]\ =\ \mbox{\hyperlink{structbt_multibody_link_abd4874d9945db310ce283a695fce1315}{m\_jointTorque}}[5]\ =\ 0.f;}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a83c2e8c2911543ac99086d9f4131ffba}{m\_cachedWorldTransform}}.setIdentity();}
\DoxyCodeLine{00193\ \ \ \ \ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{comment}{//\ routine\ to\ update\ m\_cachedRotParentToThis\ and\ m\_cachedRVector}}
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_a9eb1014cf6c3a2a800089f5813d781a8}{updateCacheMultiDof}}(\mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ *pq\ =\ 0)}
\DoxyCodeLine{00197\ \ \ \ \ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ *pJointPos\ =\ (pq\ ?\ pq\ :\ \&\mbox{\hyperlink{structbt_multibody_link_aa68e6bc208f45eb864c44e460f4616e3}{m\_jointPos}}[0]);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\&\ cachedRot\ =\ \mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}};}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\&\ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_acc1069ce405c8441a499abde38254846}{m\_cachedRVector}};}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{structbt_multibody_link_a66b7555ad9780d28f92fc1fb2e685485}{m\_jointType}})}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2ac9720bc04835a9d5f7aa856d191c0ef0}{eRevolute}}:}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}},\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a83234a32884fcd5f0d8ac3ae4ba98eaa}{ePrismatic}}:}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ m\_cachedRotParentToThis\ never\ changes,\ so\ no\ need\ to\ update}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}},\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}})\ +\ pJointPos[0]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(0);}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2aecf17b9167f2a1d051a4172a1f4c3def}{eSpherical}}:}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(pJointPos[0],\ pJointPos[1],\ pJointPos[2],\ -\/pJointPos[3])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a6eb72eda1ca94f8659cf7e85e0cef56e}{ePlanar}}:}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0]),\ pJointPos[1]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(1)\ +\ pJointPos[2]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(2))\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2af55afed0a84190cb98358efbd35a8631}{eFixed}}:}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00235\ }
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//invalid\ type}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_aff3e6078c073f6ba0edb95353f2c2c62}{btAssert}}(0);}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_a50cc62d62d9e6fb859880023d1dd47c4}{m\_cachedRotParentToThis\_interpolate}}\ =\ \mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}};}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structbt_multibody_link_aca53503b1a1ffbc2f99a7ac3a9568824}{m\_cachedRVector\_interpolate}}\ =\ \mbox{\hyperlink{structbt_multibody_link_acc1069ce405c8441a499abde38254846}{m\_cachedRVector}};}
\DoxyCodeLine{00246\ \ \ \ \ \}}
\DoxyCodeLine{00247\ \ \ \ \ }
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structbt_multibody_link_a605287e2184b316577b5b3c7df045858}{updateInterpolationCacheMultiDof}}()}
\DoxyCodeLine{00249\ \ \ \ \ \{}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_a1e5824cfc8adbf5a77f2622132d16018}{btScalar}}\ *pJointPos\ =\ \&\mbox{\hyperlink{structbt_multibody_link_a15666733f57a061e52b3ccab70277d49}{m\_jointPos\_interpolate}}[0];}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}\&\ cachedRot\ =\ \mbox{\hyperlink{structbt_multibody_link_a50cc62d62d9e6fb859880023d1dd47c4}{m\_cachedRotParentToThis\_interpolate}};}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{btVector3}}\&\ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_aca53503b1a1ffbc2f99a7ac3a9568824}{m\_cachedRVector\_interpolate}};}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\mbox{\hyperlink{structbt_multibody_link_a66b7555ad9780d28f92fc1fb2e685485}{m\_jointType}})}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2ac9720bc04835a9d5f7aa856d191c0ef0}{eRevolute}}:}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}},\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a83234a32884fcd5f0d8ac3ae4ba98eaa}{ePrismatic}}:}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ m\_cachedRotParentToThis\ never\ changes,\ so\ no\ need\ to\ update}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{structbt_multibody_link_a1f70edfc67d8f0f51876533e2ad1f52a}{m\_cachedRotParentToThis}},\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}})\ +\ pJointPos[0]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(0);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2aecf17b9167f2a1d051a4172a1f4c3def}{eSpherical}}:}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(pJointPos[0],\ pJointPos[1],\ pJointPos[2],\ -\/pJointPos[3])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2a6eb72eda1ca94f8659cf7e85e0cef56e}{ePlanar}}:}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0])\ *\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(\mbox{\hyperlink{classbt_quaternion}{btQuaternion}}(\mbox{\hyperlink{structbt_multibody_link_a2a84d20443296078d44601d2f4eaa6d6}{getAxisTop}}(0),\ -\/pJointPos[0]),\ pJointPos[1]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(1)\ +\ pJointPos[2]\ *\ \mbox{\hyperlink{structbt_multibody_link_a6124c82b1d41fffd90264a02e156d776}{getAxisBottom}}(2))\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{structbt_multibody_link_a6a5335c5e73e8613f27129a1094100e2af55afed0a84190cb98358efbd35a8631}{eFixed}}:}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedRot\ =\ \mbox{\hyperlink{structbt_multibody_link_a077048355dfd98ccd323e6c2f88d55b7}{m\_zeroRotParentToThis}};}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cachedVector\ =\ \mbox{\hyperlink{structbt_multibody_link_ab9aa6484c731d1fa4992c789347975d5}{m\_dVector}}\ +\ \mbox{\hyperlink{bt_quaternion_8h_a41643f41d42b592d640c7b33e9f66dd6}{quatRotate}}(cachedRot,\ \mbox{\hyperlink{structbt_multibody_link_a967c389d79aa5af91c39fbe584ced8fe}{m\_eVector}});}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//invalid\ type}}
\DoxyCodeLine{00294\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{bt_scalar_8h_aff3e6078c073f6ba0edb95353f2c2c62}{btAssert}}(0);}
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00297\ \ \ \ \ \}}
\DoxyCodeLine{00298\ }
\DoxyCodeLine{00299\ \ }
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \};}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//BT\_MULTIBODY\_LINK\_H}}

\end{DoxyCode}
