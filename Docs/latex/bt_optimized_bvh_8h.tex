\doxysection{C\+:/\+Users/quant/source/repos/\+Dark-\/\+Matter-\/\+Engine/\+ENGINE/\+Libraries/include/\+Bullet/\+Bullet\+Collision/\+Collision\+Shapes/bt\+Optimized\+Bvh.h File Reference}
\hypertarget{bt_optimized_bvh_8h}{}\label{bt_optimized_bvh_8h}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/BulletCollision/CollisionShapes/btOptimizedBvh.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/BulletCollision/CollisionShapes/btOptimizedBvh.h}}
{\ttfamily \#include "{}Bullet\+Collision/\+Broadphase\+Collision/bt\+Quantized\+Bvh.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{bt_optimized_bvh_8h_a692209e97a920ab4c821bf92556c0c60}{bt\+Optimized\+Bvh}} ()
\item 
virtual \mbox{\hyperlink{bt_optimized_bvh_8h_a6c05e3ea2c8ef295de52fecf8d8042dd}{\texorpdfstring{$\sim$}{\string~}bt\+Optimized\+Bvh}} ()
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{bt_optimized_bvh_8h_ab480132f39d23401e24ab8cb868635a6}{build}} (\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, bool use\+Quantized\+Aabb\+Compression, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&bvh\+Aabb\+Min, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&bvh\+Aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{bt_optimized_bvh_8h_a232e47fbb103818617fb382bc56a2e79}{refit}} (\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&aabb\+Min, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{bt_optimized_bvh_8h_a711a02d80f5982f7fa20e4019a004fc8}{refit\+Partial}} (\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&aabb\+Min, const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{bt_optimized_bvh_8h_a5a9dc148d336661b1cdd8fa64f9dd403}{update\+Bvh\+Nodes}} (\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}mesh\+Interface, int first\+Node, int end\+Node, int \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})
\item 
virtual bool \mbox{\hyperlink{bt_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b}{serialize\+In\+Place}} (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \texorpdfstring{$\ast$}{*}o\+\_\+aligned\+Data\+Buffer, unsigned i\+\_\+data\+Buffer\+Size, bool i\+\_\+swap\+Endian) const
\begin{DoxyCompactList}\small\item\em Data buffer MUST be 16 byte aligned. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{bt_optimized_bvh_8h_a692209e97a920ab4c821bf92556c0c60}{bt\+Optimized\+Bvh}} \mbox{\hyperlink{bt_optimized_bvh_8h_a5a387dbb2953422ee7fa129cd115282b}{\+\_\+\+\_\+pad0\+\_\+\+\_\+}}
\begin{DoxyCompactList}\small\item\em The bt\+Optimized\+Bvh extends the bt\+Quantized\+Bvh to create AABB tree for triangle meshes, through the bt\+Striding\+Mesh\+Interface. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{bt_optimized_bvh_8h_a692209e97a920ab4c821bf92556c0c60}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!btOptimizedBvh@{btOptimizedBvh}}
\index{btOptimizedBvh@{btOptimizedBvh}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{btOptimizedBvh()}{btOptimizedBvh()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a692209e97a920ab4c821bf92556c0c60} 
bt\+Optimized\+Bvh\+::bt\+Optimized\+Bvh (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{bt_optimized_bvh_8h_ab480132f39d23401e24ab8cb868635a6}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!build@{build}}
\index{build@{build}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_ab480132f39d23401e24ab8cb868635a6} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} build (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{bool}]{use\+Quantized\+Aabb\+Compression}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{bvh\+Aabb\+Min}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{bvh\+Aabb\+Max}{}\end{DoxyParamCaption})}

\Hypertarget{bt_optimized_bvh_8h_a232e47fbb103818617fb382bc56a2e79}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!refit@{refit}}
\index{refit@{refit}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{refit()}{refit()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a232e47fbb103818617fb382bc56a2e79} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} refit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{aabb\+Min}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{aabb\+Max}{}\end{DoxyParamCaption})}

\Hypertarget{bt_optimized_bvh_8h_a711a02d80f5982f7fa20e4019a004fc8}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!refitPartial@{refitPartial}}
\index{refitPartial@{refitPartial}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{refitPartial()}{refitPartial()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a711a02d80f5982f7fa20e4019a004fc8} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} bt\+Optimized\+Bvh\+::refit\+Partial (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{aabb\+Min}{, }\item[{const \mbox{\hyperlink{bt_vector3_8h_a755c140e1fbddef09844cf2873258525}{bt\+Vector3}} \&}]{aabb\+Max}{}\end{DoxyParamCaption})}

we should update all quantization values, using update\+Bvh\+Nodes(mesh\+Interface); but we only update chunks that overlap the given aabb\Hypertarget{bt_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!serializeInPlace@{serializeInPlace}}
\index{serializeInPlace@{serializeInPlace}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{serializeInPlace()}{serializeInPlace()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b} 
virtual bool serialize\+In\+Place (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \texorpdfstring{$\ast$}{*}}]{o\+\_\+aligned\+Data\+Buffer}{, }\item[{unsigned}]{i\+\_\+data\+Buffer\+Size}{, }\item[{bool}]{i\+\_\+swap\+Endian}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Data buffer MUST be 16 byte aligned. 

\Hypertarget{bt_optimized_bvh_8h_a5a9dc148d336661b1cdd8fa64f9dd403}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!updateBvhNodes@{updateBvhNodes}}
\index{updateBvhNodes@{updateBvhNodes}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{updateBvhNodes()}{updateBvhNodes()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a5a9dc148d336661b1cdd8fa64f9dd403} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} bt\+Optimized\+Bvh\+::update\+Bvh\+Nodes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{bt_striding_mesh_interface_8h_a6bcaf769f2690f5ee4a9d5205c51e464}{bt\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{mesh\+Interface}{, }\item[{int}]{first\+Node}{, }\item[{int}]{end\+Node}{, }\item[{int}]{index}{}\end{DoxyParamCaption})}

\Hypertarget{bt_optimized_bvh_8h_a6c05e3ea2c8ef295de52fecf8d8042dd}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!````~btOptimizedBvh@{\texorpdfstring{$\sim$}{\string~}btOptimizedBvh}}
\index{````~btOptimizedBvh@{\texorpdfstring{$\sim$}{\string~}btOptimizedBvh}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}btOptimizedBvh()}{\string~btOptimizedBvh()}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a6c05e3ea2c8ef295de52fecf8d8042dd} 
bt\+Optimized\+Bvh\+::\texorpdfstring{$\sim$}{\string~}bt\+Optimized\+Bvh (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



\doxysubsection{Variable Documentation}
\Hypertarget{bt_optimized_bvh_8h_a5a387dbb2953422ee7fa129cd115282b}\index{btOptimizedBvh.h@{btOptimizedBvh.h}!\_\_pad0\_\_@{\_\_pad0\_\_}}
\index{\_\_pad0\_\_@{\_\_pad0\_\_}!btOptimizedBvh.h@{btOptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{\_\_pad0\_\_}{\_\_pad0\_\_}}
{\footnotesize\ttfamily \label{bt_optimized_bvh_8h_a5a387dbb2953422ee7fa129cd115282b} 
\mbox{\hyperlink{bt_optimized_bvh_8h_a692209e97a920ab4c821bf92556c0c60}{bt\+Optimized\+Bvh}} \+\_\+\+\_\+pad0\+\_\+\+\_\+}



The bt\+Optimized\+Bvh extends the bt\+Quantized\+Bvh to create AABB tree for triangle meshes, through the bt\+Striding\+Mesh\+Interface. 

