\doxysection{C\+:/\+Users/quant/source/repos/\+Dark-\/\+Matter-\/\+Engine/\+ENGINE/\+Libraries/include/\+Bullet/\+Bullet3\+Open\+CL/\+Narrowphase\+Collision/b3\+Optimized\+Bvh.h File Reference}
\hypertarget{b3_optimized_bvh_8h}{}\label{b3_optimized_bvh_8h}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3OpenCL/NarrowphaseCollision/b3OptimizedBvh.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3OpenCL/NarrowphaseCollision/b3OptimizedBvh.h}}
{\ttfamily \#include "{}b3\+Quantized\+Bvh.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{b3_optimized_bvh_8h_aa79fc709881cdf43747d5ba7e4c6e30b}{b3\+Optimized\+Bvh}} ()
\item 
virtual \mbox{\hyperlink{b3_optimized_bvh_8h_a777438d01daab6ab6e97d459d1078cf4}{\texorpdfstring{$\sim$}{\string~}b3\+Optimized\+Bvh}} ()
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{b3_optimized_bvh_8h_a38a2fbb6de63f841febce8451542b569}{build}} (\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, bool use\+Quantized\+Aabb\+Compression, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&bvh\+Aabb\+Min, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&bvh\+Aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{b3_optimized_bvh_8h_a7bc60b5d9bc26abb2afb1e54f0f811ac}{refit}} (\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&aabb\+Min, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{b3_optimized_bvh_8h_a788f4e23a2ac5aa965c714b14e573a54}{refit\+Partial}} (\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}triangles, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&aabb\+Min, const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&aabb\+Max)
\item 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \mbox{\hyperlink{b3_optimized_bvh_8h_a221b47f10420d44c3a931ba89e4b045b}{update\+Bvh\+Nodes}} (\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}mesh\+Interface, int first\+Node, int end\+Node, int \mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ab47dd9958bcadea08866b42bf358e95e}{index}})
\item 
virtual bool \mbox{\hyperlink{b3_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b}{serialize\+In\+Place}} (\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \texorpdfstring{$\ast$}{*}o\+\_\+aligned\+Data\+Buffer, unsigned i\+\_\+data\+Buffer\+Size, bool i\+\_\+swap\+Endian) const
\begin{DoxyCompactList}\small\item\em Data buffer MUST be 16 byte aligned. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{b3_optimized_bvh_8h_aa79fc709881cdf43747d5ba7e4c6e30b}{b3\+Optimized\+Bvh}} \mbox{\hyperlink{b3_optimized_bvh_8h_a636aa13955640915f3d1b8aa3ee03e6b}{\+\_\+\+\_\+pad0\+\_\+\+\_\+}}
\begin{DoxyCompactList}\small\item\em The b3\+Optimized\+Bvh extends the b3\+Quantized\+Bvh to create AABB tree for triangle meshes, through the b3\+Striding\+Mesh\+Interface. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{b3_optimized_bvh_8h_aa79fc709881cdf43747d5ba7e4c6e30b}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!b3OptimizedBvh@{b3OptimizedBvh}}
\index{b3OptimizedBvh@{b3OptimizedBvh}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{b3OptimizedBvh()}{b3OptimizedBvh()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_aa79fc709881cdf43747d5ba7e4c6e30b} 
b3\+Optimized\+Bvh\+::b3\+Optimized\+Bvh (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\Hypertarget{b3_optimized_bvh_8h_a38a2fbb6de63f841febce8451542b569}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!build@{build}}
\index{build@{build}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a38a2fbb6de63f841febce8451542b569} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} build (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{bool}]{use\+Quantized\+Aabb\+Compression}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{bvh\+Aabb\+Min}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{bvh\+Aabb\+Max}{}\end{DoxyParamCaption})}

\Hypertarget{b3_optimized_bvh_8h_a7bc60b5d9bc26abb2afb1e54f0f811ac}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!refit@{refit}}
\index{refit@{refit}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{refit()}{refit()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a7bc60b5d9bc26abb2afb1e54f0f811ac} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} refit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{aabb\+Min}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{aabb\+Max}{}\end{DoxyParamCaption})}

\Hypertarget{b3_optimized_bvh_8h_a788f4e23a2ac5aa965c714b14e573a54}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!refitPartial@{refitPartial}}
\index{refitPartial@{refitPartial}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{refitPartial()}{refitPartial()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a788f4e23a2ac5aa965c714b14e573a54} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} b3\+Optimized\+Bvh\+::refit\+Partial (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{triangles}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{aabb\+Min}{, }\item[{const \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3\+Vector3}} \&}]{aabb\+Max}{}\end{DoxyParamCaption})}

we should update all quantization values, using update\+Bvh\+Nodes(mesh\+Interface); but we only update chunks that overlap the given aabb\Hypertarget{b3_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!serializeInPlace@{serializeInPlace}}
\index{serializeInPlace@{serializeInPlace}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{serializeInPlace()}{serializeInPlace()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a38af7c2d5a28c8abf4f9ad1c0506a18b} 
virtual bool serialize\+In\+Place (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} \texorpdfstring{$\ast$}{*}}]{o\+\_\+aligned\+Data\+Buffer}{, }\item[{unsigned}]{i\+\_\+data\+Buffer\+Size}{, }\item[{bool}]{i\+\_\+swap\+Endian}{}\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [virtual]}}



Data buffer MUST be 16 byte aligned. 

\Hypertarget{b3_optimized_bvh_8h_a221b47f10420d44c3a931ba89e4b045b}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!updateBvhNodes@{updateBvhNodes}}
\index{updateBvhNodes@{updateBvhNodes}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{updateBvhNodes()}{updateBvhNodes()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a221b47f10420d44c3a931ba89e4b045b} 
\mbox{\hyperlink{imgui__impl__opengl3__loader_8h_ac668e7cffd9e2e9cfee428b9b2f34fa7}{void}} b3\+Optimized\+Bvh\+::update\+Bvh\+Nodes (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{b3_striding_mesh_interface_8h_a6807fe57f5572609f8f7908127a6fd74}{b3\+Striding\+Mesh\+Interface}} \texorpdfstring{$\ast$}{*}}]{mesh\+Interface}{, }\item[{int}]{first\+Node}{, }\item[{int}]{end\+Node}{, }\item[{int}]{index}{}\end{DoxyParamCaption})}

\Hypertarget{b3_optimized_bvh_8h_a777438d01daab6ab6e97d459d1078cf4}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!````~b3OptimizedBvh@{\texorpdfstring{$\sim$}{\string~}b3OptimizedBvh}}
\index{````~b3OptimizedBvh@{\texorpdfstring{$\sim$}{\string~}b3OptimizedBvh}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}b3OptimizedBvh()}{\string~b3OptimizedBvh()}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a777438d01daab6ab6e97d459d1078cf4} 
b3\+Optimized\+Bvh\+::\texorpdfstring{$\sim$}{\string~}b3\+Optimized\+Bvh (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



\doxysubsection{Variable Documentation}
\Hypertarget{b3_optimized_bvh_8h_a636aa13955640915f3d1b8aa3ee03e6b}\index{b3OptimizedBvh.h@{b3OptimizedBvh.h}!\_\_pad0\_\_@{\_\_pad0\_\_}}
\index{\_\_pad0\_\_@{\_\_pad0\_\_}!b3OptimizedBvh.h@{b3OptimizedBvh.h}}
\doxysubsubsection{\texorpdfstring{\_\_pad0\_\_}{\_\_pad0\_\_}}
{\footnotesize\ttfamily \label{b3_optimized_bvh_8h_a636aa13955640915f3d1b8aa3ee03e6b} 
\mbox{\hyperlink{b3_optimized_bvh_8h_aa79fc709881cdf43747d5ba7e4c6e30b}{b3\+Optimized\+Bvh}} \+\_\+\+\_\+pad0\+\_\+\+\_\+}



The b3\+Optimized\+Bvh extends the b3\+Quantized\+Bvh to create AABB tree for triangle meshes, through the b3\+Striding\+Mesh\+Interface. 

