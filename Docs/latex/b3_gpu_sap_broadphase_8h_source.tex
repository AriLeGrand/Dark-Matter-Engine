\doxysection{b3\+Gpu\+Sap\+Broadphase.\+h}
\hypertarget{b3_gpu_sap_broadphase_8h_source}{}\label{b3_gpu_sap_broadphase_8h_source}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuSapBroadphase.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3OpenCL/BroadphaseCollision/b3GpuSapBroadphase.h}}
\mbox{\hyperlink{b3_gpu_sap_broadphase_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ B3\_GPU\_SAP\_BROADPHASE\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ B3\_GPU\_SAP\_BROADPHASE\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_open_c_l_array_8h}{Bullet3OpenCL/ParallelPrimitives/b3OpenCLArray.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_fill_c_l_8h}{Bullet3OpenCL/ParallelPrimitives/b3FillCL.h}}"{}}\ \ \textcolor{comment}{//b3Int2}}
\DoxyCodeLine{00006\ \textcolor{keyword}{class\ }\mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}};}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_radix_sort32_c_l_8h}{Bullet3OpenCL/ParallelPrimitives/b3RadixSort32CL.h}}"{}}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_sap_aabb_8h}{b3SapAabb.h}}"{}}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_int2_8h}{Bullet3Common/shared/b3Int2.h}}"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_gpu_broadphase_interface_8h}{b3GpuBroadphaseInterface.h}}"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \ \ \ \ \mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ m\_context;}
\DoxyCodeLine{00017\ \ \ \ \ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ m\_device;}
\DoxyCodeLine{00018\ \ \ \ \ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ m\_queue;}
\DoxyCodeLine{00019\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_flipFloatKernel;}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_scatterKernel;}
\DoxyCodeLine{00021\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_copyAabbsKernel;}
\DoxyCodeLine{00022\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_sapKernel;}
\DoxyCodeLine{00023\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_sap2Kernel;}
\DoxyCodeLine{00024\ \ \ \ \ \mbox{\hyperlink{clew_8h_ad555869572d7067f86762cd9e032cf2b}{cl\_kernel}}\ m\_prepareSumVarianceKernel;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classb3_radix_sort32_c_l}{b3RadixSort32CL}}*\ m\_sorter;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00029\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3SortData>}}\ m\_sortedAxisCPU[3][2];}
\DoxyCodeLine{00030\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexCPU[3][2];}
\DoxyCodeLine{00031\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis0;}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis1;}
\DoxyCodeLine{00033\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis2;}
\DoxyCodeLine{00034\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis0prev;}
\DoxyCodeLine{00035\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis1prev;}
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3UnsignedInt2>}}\ m\_objectMinMaxIndexGPUaxis2prev;}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU0;}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU1;}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU2;}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU0prev;}
\DoxyCodeLine{00042\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU1prev;}
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ m\_sortedAxisGPU2prev;}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Int4>}}\ m\_addedHostPairsGPU;}
\DoxyCodeLine{00046\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Int4>}}\ m\_removedHostPairsGPU;}
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\ m\_addedCountGPU;}
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\ m\_removedCountGPU;}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordtype}{int}\ m\_currentBuffer;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00053\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a2dbe034c369a99b0f5509b3875127bbc}{m\_pairCount}};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SapAabb>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a5e85da9af1be208c260d32e4c87e0afa}{m\_allAabbsGPU}};}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3SapAabb>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a657a66d0ca76432b1c15d8a84987646f}{m\_allAabbsCPU}};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SapAabb>}}\&\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a0f4c12dcca353c3359b5885840bb3c1e}{getAllAabbsGPU}}()}
\DoxyCodeLine{00059\ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a5e85da9af1be208c260d32e4c87e0afa}{m\_allAabbsGPU}};}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<b3SapAabb>}}\&\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a30714aefd95aa8e0b4d415eda72c96eb}{getAllAabbsCPU}}()}
\DoxyCodeLine{00063\ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a657a66d0ca76432b1c15d8a84987646f}{m\_allAabbsCPU}};}
\DoxyCodeLine{00065\ \ \ \ \ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Vector3>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_aac936dfeae27b28930d9a1d75629c42a}{m\_sum}};}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Vector3>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a1b5016eb65830ac9ace4a09d86debae9}{m\_sum2}};}
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Vector3>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ae829ccbbc178e9452d9a31757e01e1d9}{m\_dst}};}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a3fa344c2c4c2e61cec106ca77defba71}{m\_smallAabbsMappingGPU}};}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<int>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ab04186279d004bb6479727acc7f7037e}{m\_smallAabbsMappingCPU}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a9af15764e71f2314203f4b0cb86d3fac}{m\_largeAabbsMappingGPU}};}
\DoxyCodeLine{00075\ \ \ \ \ \mbox{\hyperlink{classb3_aligned_object_array}{b3AlignedObjectArray<int>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a742563eaf46e291bf4fc77c2145c71fa}{m\_largeAabbsMappingCPU}};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Int4>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ae63c7b78487df4fe83fbf15f0ac66cef}{m\_overlappingPairs}};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{comment}{//temporary\ gpu\ work\ memory}}
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SortData>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a94acdfff18e86be7326683399511b365}{m\_gpuSmallSortData}};}
\DoxyCodeLine{00081\ \ \ \ \ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3SapAabb>}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a8dee95913c371d238a4255f7551b4c3e}{m\_gpuSmallSortedAabbs}};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classb3_prefix_scan_float4_c_l}{b3PrefixScanFloat4CL}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a5b387d2d743336527c1750cbf49f1355}{m\_prefixScanFloat4}};}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502d}{b3GpuSapKernelType}}}
\DoxyCodeLine{00086\ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da7228b4554ae49850c48e736136fcc969}{B3\_GPU\_SAP\_KERNEL\_BRUTE\_FORCE\_CPU}}\ =\ 1,}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502daa082f38ba599e9f79a7c9b739cef46ef}{B3\_GPU\_SAP\_KERNEL\_BRUTE\_FORCE\_GPU}},}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502daf1ff9cad15ff885f5dd31d0d585968d4}{B3\_GPU\_SAP\_KERNEL\_ORIGINAL}},}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da90311deb85150cdbf23087498aca9485}{B3\_GPU\_SAP\_KERNEL\_BARRIER}},}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da72c5ca7913ad2693583d7257cf52f669}{B3\_GPU\_SAP\_KERNEL\_LOCAL\_SHARED\_MEMORY}}}
\DoxyCodeLine{00092\ \ \ \ \ \};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502d}{b3GpuSapKernelType}}\ kernelType\ =\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da72c5ca7913ad2693583d7257cf52f669}{B3\_GPU\_SAP\_KERNEL\_LOCAL\_SHARED\_MEMORY}});}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a81d5a715b8f6e66b0bb77192d25531cd}{\string~b3GpuSapBroadphase}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a9cde8266c0d67d399f3a0308d08220ed}{CreateFuncBruteForceCpu}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q)}
\DoxyCodeLine{00098\ \ \ \ \ \{}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(ctx,\ device,\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da7228b4554ae49850c48e736136fcc969}{B3\_GPU\_SAP\_KERNEL\_BRUTE\_FORCE\_CPU}});}
\DoxyCodeLine{00100\ \ \ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_aeaa95328628fefe8a85076920a435e53}{CreateFuncBruteForceGpu}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q)}
\DoxyCodeLine{00103\ \ \ \ \ \{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(ctx,\ device,\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502daa082f38ba599e9f79a7c9b739cef46ef}{B3\_GPU\_SAP\_KERNEL\_BRUTE\_FORCE\_GPU}});}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ad9136e0901bb2c99841715220c0282fb}{CreateFuncOriginal}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q)}
\DoxyCodeLine{00108\ \ \ \ \ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(ctx,\ device,\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502daf1ff9cad15ff885f5dd31d0d585968d4}{B3\_GPU\_SAP\_KERNEL\_ORIGINAL}});}
\DoxyCodeLine{00110\ \ \ \ \ \}}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a8b5858acae10e748c13179361b6ce1f8}{CreateFuncBarrier}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q)}
\DoxyCodeLine{00112\ \ \ \ \ \{}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(ctx,\ device,\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da90311deb85150cdbf23087498aca9485}{B3\_GPU\_SAP\_KERNEL\_BARRIER}});}
\DoxyCodeLine{00114\ \ \ \ \ \}}
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{classb3_gpu_broadphase_interface}{b3GpuBroadphaseInterface}}*\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_acd4297bc2510f81df1e8de788b38fb6a}{CreateFuncLocalMemory}}(\mbox{\hyperlink{clew_8h_a96a7d9b65e8319e2f8c751455ae92ec8}{cl\_context}}\ ctx,\ \mbox{\hyperlink{clew_8h_abf58c686ce1c1e363fc1c219416bae3b}{cl\_device\_id}}\ device,\ \mbox{\hyperlink{clew_8h_ac0eceefed5ddf03f817f9c9a20fdc616}{cl\_command\_queue}}\ q)}
\DoxyCodeLine{00116\ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7ce4324d14ee2ed7805374e60abbc9bc}{b3GpuSapBroadphase}}(ctx,\ device,\ q,\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a006a0eaa4c9a43b146f48dd54a0c502da72c5ca7913ad2693583d7257cf52f669}{B3\_GPU\_SAP\_KERNEL\_LOCAL\_SHARED\_MEMORY}});}
\DoxyCodeLine{00118\ \ \ \ \ \}}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_afeffc655cd5fa70e587d63574c67b25a}{calculateOverlappingPairs}}(\textcolor{keywordtype}{int}\ maxPairs);}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a66b424cd38afca80f6d562e75a34b4d3}{calculateOverlappingPairsHost}}(\textcolor{keywordtype}{int}\ maxPairs);}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_afa9847fc0af4c32507485a8a5409cc25}{reset}}();}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a4736a2bec0682fa13ce90683b5de9adb}{init3dSap}}();}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ad1b9f91475d9a97cff059ad9e5af9071}{calculateOverlappingPairsHostIncremental3Sap}}();}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a69ac40828462a499b7a01fa2e035f36d}{createProxy}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ aabbMin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ aabbMax,\ \textcolor{keywordtype}{int}\ userPtr,\ \textcolor{keywordtype}{int}\ collisionFilterGroup,\ \textcolor{keywordtype}{int}\ collisionFilterMask);}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a76589ed2aab85f4becdbdb6ec6b16695}{createLargeProxy}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ aabbMin,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_vector3_8h_a22c8d3827b387afa3b74e32d614eab50}{b3Vector3}}\&\ aabbMax,\ \textcolor{keywordtype}{int}\ userPtr,\ \textcolor{keywordtype}{int}\ collisionFilterGroup,\ \textcolor{keywordtype}{int}\ collisionFilterMask);}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{comment}{//call\ writeAabbsToGpu\ after\ done\ making\ all\ changes\ (createProxy\ etc)}}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a515575554b6507ea5a1343a7ac46e913}{writeAabbsToGpu}}();}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{clew_8h_af2141916ad9655073b9810d7bc71494d}{cl\_mem}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a7fa2fe3d5f6f1ee55d8f809922c730ed}{getAabbBufferWS}}();}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a807d12dee811348f0282a99f232714b6}{getNumOverlap}}();}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{clew_8h_af2141916ad9655073b9810d7bc71494d}{cl\_mem}}\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_a5e2856faf40a76ce5fa3c33d88069a94}{getOverlappingPairBuffer}}();}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<b3Int4>}}\&\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_ab3a68e27d9c3cdfc2e423a36052c919d}{getOverlappingPairsGPU}}();}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\&\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_aeaa46ba5a7ac2012b657b1907b5e9444}{getSmallAabbIndicesGPU}}();}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classb3_open_c_l_array}{b3OpenCLArray<int>}}\&\ \mbox{\hyperlink{classb3_gpu_sap_broadphase_af8a4a52ce08078e070219cc7e5d55425}{getLargeAabbIndicesGPU}}();}
\DoxyCodeLine{00141\ \};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_GPU\_SAP\_BROADPHASE\_H}}

\end{DoxyCode}
