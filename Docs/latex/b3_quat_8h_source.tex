\doxysection{b3\+Quat.\+h}
\hypertarget{b3_quat_8h_source}{}\label{b3_quat_8h_source}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Common/shared/b3Quat.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Common/shared/b3Quat.h}}
\mbox{\hyperlink{b3_quat_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ B3\_QUAT\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ B3\_QUAT\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_platform_definitions_8h}{Bullet3Common/shared/b3PlatformDefinitions.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_float4_8h}{Bullet3Common/shared/b3Float4.h}}"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifdef\ \_\_cplusplus}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_quaternion_8h}{Bullet3Common/b3Quaternion.h}}"{}}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_transform_8h}{Bullet3Common/b3Transform.h}}"{}}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ b3Quat\ b3Quaternion}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ b3QuatConstArg\ const\ b3Quaternion\&}}
\DoxyCodeLine{00013\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a83293f97f56875fcd25208feec2f511e}{b3QuatInverse}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ orn)}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordflow}{return}\ orn.inverse();}
\DoxyCodeLine{00016\ \}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_float4_8h_a3418582ecf8a3f4d44415729b23856f8}{b3Float4}}\ \mbox{\hyperlink{b3_quat_8h_a409f6cacff1417d00bbd914cd1b83f7b}{b3TransformPoint}}(\mbox{\hyperlink{b3_float4_8h_a9eb2bdc66f8e56d30a2b77cfc987c0ba}{b3Float4ConstArg}}\ point,\ \mbox{\hyperlink{b3_float4_8h_a9eb2bdc66f8e56d30a2b77cfc987c0ba}{b3Float4ConstArg}}\ translation,\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ orientation)}
\DoxyCodeLine{00019\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \mbox{\hyperlink{b3_transform_8h_aee494f6d000b0af0365456f16358ea5c}{b3Transform}}\ tr;}
\DoxyCodeLine{00021\ \ \ \ \ tr.setOrigin(translation);}
\DoxyCodeLine{00022\ \ \ \ \ tr.setRotation(orientation);}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keywordflow}{return}\ tr(point);}
\DoxyCodeLine{00024\ \}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00027\ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}};}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#define\ b3QuatConstArg\ const\ b3Quat}}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ \mbox{\hyperlink{b3_quat_8h_ae51ef2a9f8e1d9ed2df132ec8b4181b3}{b3FastNormalize4}}(\mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ \mbox{\hyperlink{glad_8h_a14cfbe2fc2234f5504618905b69d1e06}{v}})}
\DoxyCodeLine{00031\ \{}
\DoxyCodeLine{00032\ \ \ \ \ \mbox{\hyperlink{glad_8h_a14cfbe2fc2234f5504618905b69d1e06}{v}}\ =\ (\mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}})(\mbox{\hyperlink{glad_8h_a14cfbe2fc2234f5504618905b69d1e06}{v}}.xyz,\ 0.f);}
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keywordflow}{return}\ fast\_normalize(\mbox{\hyperlink{glad_8h_a14cfbe2fc2234f5504618905b69d1e06}{v}});}
\DoxyCodeLine{00034\ \}}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a425d2eed0fd86f2ddb725cd6cefd680d}{b3QuatMul}}(\mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}},\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}});}
\DoxyCodeLine{00037\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_aabb9643b1d33dfecc7855ba72f7859ac}{b3QuatNormalized}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ in);}
\DoxyCodeLine{00038\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a9177cda733d05d2f93cf3a2169cf3128}{b3QuatRotate}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q,\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ vec);}
\DoxyCodeLine{00039\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_af563acc15a50802d7d9bf5769a16d32c}{b3QuatInvert}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q);}
\DoxyCodeLine{00040\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a83293f97f56875fcd25208feec2f511e}{b3QuatInverse}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a425d2eed0fd86f2ddb725cd6cefd680d}{b3QuatMul}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ \mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}},\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}})}
\DoxyCodeLine{00043\ \{}
\DoxyCodeLine{00044\ \ \ \ \ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ ans;}
\DoxyCodeLine{00045\ \ \ \ \ ans\ =\ \mbox{\hyperlink{b3_float4_8h_a05262b912af8c5956a0e0e7106126848}{b3Cross3}}(\mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}},\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}});}
\DoxyCodeLine{00046\ \ \ \ \ ans\ +=\ \mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}}.w\ *\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}}\ +\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}}.w\ *\ \mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{comment}{//\ \ ans.w\ =\ a.w*b.w\ -\/\ (a.x*b.x+a.y*b.y+a.z*b.z);}}
\DoxyCodeLine{00048\ \ \ \ \ ans.w\ =\ \mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}}.w\ *\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}}.w\ -\/\ \mbox{\hyperlink{b3_float4_8h_a8447988c3933c2f7565b83a9cf131778}{b3Dot3F4}}(\mbox{\hyperlink{glad_8h_ac8729153468b5dcf13f971b21d84d4e5}{a}},\ \mbox{\hyperlink{glad_8h_a6eba317e3cf44d6d26c04a5a8f197dcb}{b}});}
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keywordflow}{return}\ ans;}
\DoxyCodeLine{00050\ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_aabb9643b1d33dfecc7855ba72f7859ac}{b3QuatNormalized}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ in)}
\DoxyCodeLine{00053\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ q;}
\DoxyCodeLine{00055\ \ \ \ \ q\ =\ in;}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{comment}{//return\ b3FastNormalize4(in);}}
\DoxyCodeLine{00057\ \ \ \ \ \textcolor{keywordtype}{float}\ len\ =\ native\_sqrt(\mbox{\hyperlink{b3_vector3_8h_a59d40471ae3301c94c4cb0b93ce19797}{dot}}(q,\ q));}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keywordflow}{if}\ (len\ >\ 0.f)}
\DoxyCodeLine{00059\ \ \ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ q\ *=\ 1.f\ /\ len;}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00063\ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ q.x\ =\ q.y\ =\ q.z\ =\ 0.f;}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ q.w\ =\ 1.f;}
\DoxyCodeLine{00066\ \ \ \ \ \}}
\DoxyCodeLine{00067\ \ \ \ \ \textcolor{keywordflow}{return}\ q;}
\DoxyCodeLine{00068\ \}}
\DoxyCodeLine{00069\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ \mbox{\hyperlink{b3_quat_8h_a9177cda733d05d2f93cf3a2169cf3128}{b3QuatRotate}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q,\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ vec)}
\DoxyCodeLine{00070\ \{}
\DoxyCodeLine{00071\ \ \ \ \ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ qInv\ =\ \mbox{\hyperlink{b3_quat_8h_af563acc15a50802d7d9bf5769a16d32c}{b3QuatInvert}}(q);}
\DoxyCodeLine{00072\ \ \ \ \ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ vcpy\ =\ vec;}
\DoxyCodeLine{00073\ \ \ \ \ vcpy.w\ =\ 0.f;}
\DoxyCodeLine{00074\ \ \ \ \ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ out\ =\ \mbox{\hyperlink{b3_quat_8h_a425d2eed0fd86f2ddb725cd6cefd680d}{b3QuatMul}}(\mbox{\hyperlink{b3_quat_8h_a425d2eed0fd86f2ddb725cd6cefd680d}{b3QuatMul}}(q,\ vcpy),\ qInv);}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordflow}{return}\ out;}
\DoxyCodeLine{00076\ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_a83293f97f56875fcd25208feec2f511e}{b3QuatInverse}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q)}
\DoxyCodeLine{00079\ \{}
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}})(-\/q.xyz,\ q.w);}
\DoxyCodeLine{00081\ \}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ \mbox{\hyperlink{b3_quat_8h_af563acc15a50802d7d9bf5769a16d32c}{b3QuatInvert}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q)}
\DoxyCodeLine{00084\ \{}
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}})(-\/q.xyz,\ q.w);}
\DoxyCodeLine{00086\ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_convex_hull_contact_8cpp_ada97ec01294ee3122f2f2c8f4058db0c}{float4}}\ \mbox{\hyperlink{b3_quat_8h_ad22fe481287f4563689932dc54ca2465}{b3QuatInvRotate}}(\mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ q,\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ vec)}
\DoxyCodeLine{00089\ \{}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{b3_quat_8h_a9177cda733d05d2f93cf3a2169cf3128}{b3QuatRotate}}(\mbox{\hyperlink{b3_quat_8h_af563acc15a50802d7d9bf5769a16d32c}{b3QuatInvert}}(q),\ vec);}
\DoxyCodeLine{00091\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{b3_float4_8h_a3418582ecf8a3f4d44415729b23856f8}{b3Float4}}\ \mbox{\hyperlink{b3_quat_8h_a409f6cacff1417d00bbd914cd1b83f7b}{b3TransformPoint}}(\mbox{\hyperlink{b3_float4_8h_a9eb2bdc66f8e56d30a2b77cfc987c0ba}{b3Float4ConstArg}}\ point,\ \mbox{\hyperlink{b3_float4_8h_a9eb2bdc66f8e56d30a2b77cfc987c0ba}{b3Float4ConstArg}}\ translation,\ \mbox{\hyperlink{b3_quat_8h_a66f8bbce33c84eeee95ca6e2b8fd557f}{b3QuatConstArg}}\ orientation)}
\DoxyCodeLine{00094\ \{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{b3_quat_8h_a9177cda733d05d2f93cf3a2169cf3128}{b3QuatRotate}}(orientation,\ point)\ +\ (translation);}
\DoxyCodeLine{00096\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_QUAT\_H}}

\end{DoxyCode}
