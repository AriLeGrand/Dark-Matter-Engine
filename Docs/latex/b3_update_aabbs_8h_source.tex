\doxysection{b3\+Update\+Aabbs.\+h}
\hypertarget{b3_update_aabbs_8h_source}{}\label{b3_update_aabbs_8h_source}\index{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3UpdateAabbs.h@{C:/Users/quant/source/repos/Dark-\/Matter-\/Engine/ENGINE/Libraries/include/Bullet/Bullet3Collision/NarrowPhaseCollision/shared/b3UpdateAabbs.h}}
\mbox{\hyperlink{b3_update_aabbs_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ B3\_UPDATE\_AABBS\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ B3\_UPDATE\_AABBS\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_aabb_8h}{Bullet3Collision/BroadPhaseCollision/shared/b3Aabb.h}}"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_collidable_8h}{Bullet3Collision/NarrowPhaseCollision/shared/b3Collidable.h}}"{}}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{b3_rigid_body_data_8h}{Bullet3Collision/NarrowPhaseCollision/shared/b3RigidBodyData.h}}"{}}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{b3_update_aabbs_8h_a539d39c04ab6aed773a1afc0992dae8f}{b3ComputeWorldAabb}}(\textcolor{keywordtype}{int}\ bodyId,\ \_\_global\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_rigid_body_data_8h_a1530025f8ef30ab1287042e59688bc70}{b3RigidBodyData\_t}}*\ bodies,\ \_\_global\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_collidable_8h_a2729f35aa8596a729255b2b08b19d466}{b3Collidable\_t}}*\ collidables,\ \_\_global\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_aabb_8h_a48eba1968eff7a5f61e9cf980248ce55}{b3Aabb\_t}}*\ localShapeAABB,\ \_\_global\ \mbox{\hyperlink{b3_aabb_8h_a48eba1968eff7a5f61e9cf980248ce55}{b3Aabb\_t}}*\ worldAabbs)}
\DoxyCodeLine{00009\ \{}
\DoxyCodeLine{00010\ \ \ \ \ \_\_global\ \textcolor{keyword}{const}\ \mbox{\hyperlink{b3_rigid_body_data_8h_a1530025f8ef30ab1287042e59688bc70}{b3RigidBodyData\_t}}*\ body\ =\ \&bodies[bodyId];}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \ \ \ \ \mbox{\hyperlink{b3_float4_8h_a3418582ecf8a3f4d44415729b23856f8}{b3Float4}}\ position\ =\ body-\/>m\_pos;}
\DoxyCodeLine{00013\ \ \ \ \ \mbox{\hyperlink{b3_quat_8h_aa082b3d8522c3f5341df06735cde260b}{b3Quat}}\ orientation\ =\ body-\/>m\_quat;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \ \ \ \ \textcolor{keywordtype}{int}\ collidableIndex\ =\ body-\/>m\_collidableIdx;}
\DoxyCodeLine{00016\ \ \ \ \ \textcolor{keywordtype}{int}\ shapeIndex\ =\ collidables[collidableIndex].m\_shapeIndex;}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keywordflow}{if}\ (shapeIndex\ >=\ 0)}
\DoxyCodeLine{00019\ \ \ \ \ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{b3_aabb_8h_a48eba1968eff7a5f61e9cf980248ce55}{b3Aabb\_t}}\ localAabb\ =\ localShapeAABB[collidableIndex];}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{b3_aabb_8h_a48eba1968eff7a5f61e9cf980248ce55}{b3Aabb\_t}}\ worldAabb;}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{b3_float4_8h_a3418582ecf8a3f4d44415729b23856f8}{b3Float4}}\ aabbAMinOut,\ aabbAMaxOut;}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ margin\ =\ 0.f;}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{b3_aabb_8h_a98fed6d76defb9878acf927e6a308ade}{b3TransformAabb2}}(localAabb.\mbox{\hyperlink{structb3_aabb_ad9d3a4f1626d7d0ae2dc26b33b054c1f}{m\_minVec}},\ localAabb.\mbox{\hyperlink{structb3_aabb_a8b38309df1916ef8d5e56fb50721cd75}{m\_maxVec}},\ margin,\ position,\ orientation,\ \&aabbAMinOut,\ \&aabbAMaxOut);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ worldAabb.\mbox{\hyperlink{structb3_aabb_ad9d3a4f1626d7d0ae2dc26b33b054c1f}{m\_minVec}}\ =\ aabbAMinOut;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ worldAabb.\mbox{\hyperlink{structb3_aabb_a0cc211001ff802adac5bcca0845dbca9}{m\_minIndices}}[3]\ =\ bodyId;}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ worldAabb.\mbox{\hyperlink{structb3_aabb_a8b38309df1916ef8d5e56fb50721cd75}{m\_maxVec}}\ =\ aabbAMaxOut;}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ worldAabb.\mbox{\hyperlink{structb3_aabb_a9d513cbabfa3a68d770af72c0fdf1bb2}{m\_signedMaxIndices}}[3]\ =\ body[bodyId].m\_invMass\ ==\ 0.f\ ?\ 0\ :\ 1;}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ worldAabbs[bodyId]\ =\ worldAabb;}
\DoxyCodeLine{00032\ \ \ \ \ \}}
\DoxyCodeLine{00033\ \}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//B3\_UPDATE\_AABBS\_H}}

\end{DoxyCode}
